(function(){"use strict";var e={4668:function(e,t,n){var o=n(9242),r=n(3396),i=n(7139);const s=(0,r._)("div",null,[(0,r.Uk)(" How to use: This app only works for pre-approved usernames. It is for auto booking of a court at SF GTC. "),(0,r._)("br"),(0,r.Uk)(" To use it you need to know your login and userId for the person you are booking to court on to find your userId login to GTC portal, open "),(0,r._)("a",{href:"https://medium.com/@ConnorFinnegan/how-to-effectively-inspect-network-activity-in-chrome-dev-tools-fd18592a735a#:~:text=feature%20in%20Chrome.-,Getting%20Started,-To%20access%20this"},"network tools"),(0,r.Uk)(' and select your name again from the dropdown. You should see "switch-linked-user?", id= is the UserId you selected. '),(0,r._)("br"),(0,r.Uk)(' Its important to keep tab open and computer not asleep for it to trigger at time specified. You can test by not toggling "Actually Make Reservation". ')],-1),a={key:1},u=["srcdoc"];function l(e,t,n,o,l,d){const c=(0,r.up)("VueCountdown"),m=(0,r.up)("FormGTC");return(0,r.wg)(),(0,r.iD)(r.HY,null,[s,null!==l.countdown?((0,r.wg)(),(0,r.j4)(c,{key:0,ref:"countdown",time:l.countdown,interval:100,onEnd:d.onCountdownEnd},{default:(0,r.w5)((({totalSeconds:e})=>[(0,r.Uk)(" Time Remainingï¼š "+(0,i.zw)(e)+" seconds. With "+(0,i.zw)(l.retryCount)+" attempts left ",1)])),_:1},8,["time","onEnd"])):((0,r.wg)(),(0,r.iD)("span",a," - - - No pending requests - - -")),l.response?((0,r.wg)(),(0,r.iD)("iframe",{key:2,srcdoc:l.response},null,8,u)):(0,r.kq)("",!0),(0,r.Wm)(m,{onRequestTime:d.onSubmit},null,8,["onRequestTime"])],64)}function d(e,t,n,o,i,s){const a=(0,r.up)("FormKit");return(0,r.wg)(),(0,r.j4)(a,{type:"form","submit-label":"Save",onSubmit:s.saveMe},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{type:"datetime-local",label:"Time to execute",name:"executeAt",step:1}),(0,r.Wm)(a,{type:"text",label:"username",name:"username",validation:"required",help:"Only approved usernames will work"}),(0,r.Wm)(a,{type:"password",label:"password",name:"password",validation:"required"}),(0,r.Wm)(a,{type:"text",label:"userId",name:"userId",validation:"required|number",help:"This is not login username, it is the userId to be used for reservation"}),(0,r.Wm)(a,{type:"radio",name:"intervalInMins",label:"Interval In Mins",options:[30,45,60,90],validation:"required"}),(0,r.Wm)(a,{type:"radio",label:"Location to Reserve",name:"locationToReserve",validation:"required",options:{1:"Tennis",35:"Pickleball / Mini Tennis"}}),(0,r.Wm)(a,{type:"datetime-local",label:"Reserve Court Time",name:"timeToReserveDateTime",validation:"required"}),(0,r.Wm)(a,{value:!1,type:"checkbox",name:"isConfirmed",label:"Actually Make Reservation (over not reserving/testing)"}),(0,r.Wm)(a,{type:"number",help:"How many times should we retry?",label:"Retry Count",name:"retryCount",value:"0",min:"0",max:"10",step:"1"})])),_:1},8,["onSubmit"])}var c={name:"FormGTC",methods:{async saveMe(e){console.log(e),this.$emit("requestTime",e)}}},m=n(89);const p=(0,m.Z)(c,[["render",d]]);var f=p,v=n(4384),h=n(70),w={name:"App",components:{FormGTC:f,VueCountdown:v.Z},data(){return{error:null,countdown:null,toSend:null,retryCount:0,response:null}},methods:{onSubmit(e){this.toSend=null,this.response="Attempting to make reservation",console.log("herer",e),this.countdown=e.executeAt?new Date(e.executeAt)-new Date:0,console.log({countdown:this.countdown,date:Math.floor(new Date(e.timeToReserveDateTime).getTime()/1e3)});const t={username:e.username,password:e.password,userId:e.userId,intervalInMins:e.intervalInMins,timeToReserveSeconds:Math.floor(new Date(e.timeToReserveDateTime).getTime()/1e3),locationToReserve:e.locationToReserve,isConfirmed:e.isConfirmed};console.log("Data to be sent",t),this.retryCount=e.retryCount,this.toSend=()=>h.ZP.post("https://uglte8qxlf.execute-api.us-east-1.amazonaws.com/dev/gtc/reserve",t)},async onCountdownEnd(){try{console.log("attempting to send"),this.response="Sending Data ...";const e=await this.toSend();console.log(e),this.response=e.data,this.countdown=null,e.data?.includes("Reservation Completed")||e.data?.includes("Confirm")?alert("ðŸŽ‰ found something"):this.retryCount>0&&(console.log(this.$refs.countdown),this.retryCount--,this.countdown=2e3,this.$refs.countdown.start())}catch(e){this.response=JSON.stringify(e),alert(`Sending the request resulted in systamic error ${e.message}`)}}}};const y=(0,m.Z)(w,[["render",l]]);var g=y,b=n(1119);(0,o.ri)(g).use(b.BA,b.u_).mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,i){if(!o){var s=1/0;for(d=0;d<e.length;d++){o=e[d][0],r=e[d][1],i=e[d][2];for(var a=!0,u=0;u<o.length;u++)(!1&i||s>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[u])}))?o.splice(u--,1):(a=!1,i<s&&(s=i));if(a){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,i,s=o[0],a=o[1],u=o[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(u)var d=u(n)}for(t&&t(o);l<s.length;l++)i=s[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},o=self["webpackChunkgtc_scheduler"]=self["webpackChunkgtc_scheduler"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(4668)}));o=n.O(o)})();
//# sourceMappingURL=app.794871ec.js.map